@Test
public void testGetRecordsBeansList() throws Exception {
    // Arrange mocks
    when(mockConnection.prepareStatement(anyString())).thenReturn(mockPreparedStatement);
    when(mockPreparedStatement.executeQuery()).thenReturn(mockResultSet);
    when(mockResultSet.next()).thenReturn(true).thenReturn(false); // One row
    when(mockResultSet.getString(anyString())).thenReturn("dummy");

    // Define subclass with test method inside
    class TestTransaction extends P86_IACC_01_DBTransaction {
        TestTransaction(Connection conn) {
            super(conn);
        }

        @Override
        protected void feedingRecordBean(P06_IACC_01_BoprRecordBean bean, ResultSet rs) throws SQLException {
            bean.setAmount(100.0); // Simulate valid record
        }

        @Override
        protected void innerFeedingRecordBean(P06_IACC_01_BoprRecordBean bean, ResultSet rs) {}

        @Override
        protected String getSelectRecordsQueryKey() {
            return "test.query.key";
        }

        @Override
        protected void feedRecordsBeansListPreparedStatement(PreparedStatement ps) {}
        
        // Expose protected method via a public test method
        public List<P06_IACC_01_BoprRecordBean> callGetRecordsBeansList() throws P86_IACC_01_SQLException {
            return this.getRecordsBeansList();
        }
    }

    TestTransaction testTransaction = new TestTransaction(mockConnection);

    // Act
    List<P06_IACC_01_BoprRecordBean> result = testTransaction.callGetRecordsBeansList();

    // Assert
    assertNotNull(result);
    assertEquals(1, result.size());
    assertEquals(100.0, result.get(0).getAmount(), 0.0001);
}
