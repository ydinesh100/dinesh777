  @Before
    public void setUp() throws Exception {
        // 1. Instantiate class under test
        level2 = P06_IACC_01_Level2.class.getDeclaredConstructor().newInstance();

        // 2. Prepare dummy records
        dummyRecords = new ArrayList<>();
        dummyRecords.add(new P06_IACC_01_BoprRecordBean());
        dummyRecords.add(new P06_IACC_01_BoprRecordBean());

        // 3. Inject g_o_recordBeansList
        Field recordListField = level2.getClass().getSuperclass().getDeclaredField("g_o_recordBeansList");
        recordListField.setAccessible(true);
        recordListField.set(level2, dummyRecords);

        // 4. Inject mocked DB transaction via test subclass
        TestLevel2DBTransaction testTransaction = new TestLevel2DBTransaction(null);
        Field dbField = level2.getClass().getSuperclass().getDeclaredField("g_o_dataBaseTransaction");
        dbField.setAccessible(true);
        dbField.set(level2, testTransaction);

        // 5. Set env var for output directory
        String tempDir = folder.newFolder("liq-output").getAbsolutePath() + File.separator;
        setEnv("LIQFilesOutDirectory", tempDir);

        // 6. Set text file name (P06_IACC_01_Main.g_s_textFileName)
        Field fileNameField = P06_IACC_01_Main.class.getDeclaredField("g_s_textFileName");
        fileNameField.setAccessible(true);
        fileNameField.set(null, "test_output.txt");
